{% extends 'base.html' %}
{% load static %}
{% load course_custom_tags %}
{% block title %}Home - EdVantage{% endblock %}
{% block extra_css %}
  {% comment %} <link rel="stylesheet" href="{% static 'assets/css/style.css' %}"> {% endcomment %}
  <link rel="stylesheet" href="{% static 'assets/css/course.css' %}">

{% endblock %}
{% block content %}
<div id="particles-js"></div>


<div class="container">
  <h2 class="level-header">Explore Your Academic Journey</h2>
  <p class="text-center">
    Welcome to our course guide! This page outlines subject pathways from
    GCSE Foundation to A-Level, tailored to various career streams. Choose
    your path based on your interests and future goals.
  </p>

  <div class="course-section">
    <h3 class="level-header">GCSE Foundation (9th/10th)</h3>
    <div class="course-card" data-video-id="dQw4w9WgXcQ">
      <h3>Core Subjects</h3>
      <p class="course-description">
        Fundamental subjects to build a strong academic foundation.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Physics</li>
        <li>3. Chemistry</li>
        <li>4. Biology</li>
        <li>5. English Language</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Core Subjects Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>
            Mathematics: Algebra, Geometry, Statistics, Basic Trigonometry
          </li>
          <li>Physics: Mechanics, Electricity, Waves, Energy Concepts</li>
          <li>
            Chemistry: Atomic Structure, Chemical Reactions, Periodic Table
          </li>
          <li>Biology: Cells, Genetics, Ecosystems, Human Body Systems</li>
          <li>
            English Language: Reading Comprehension, Essay Writing, Literary
            Analysis
          </li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>
            Textbooks: GCSE Foundation Maths, Physics, Chemistry, Biology
          </li>
          <li>Practice Exams: Past Papers and Mock Tests</li>
          <li>Online Tools: Khan Academy Tutorials, BBC Bitesize</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="course-section">
    <h3 class="level-header">AS Level (11th) Pathways</h3>
    <div class="course-card" data-video-id="t_8x0J8e-Dg">
      <h3>Engineering</h3>
      <p class="course-description">
        Focus on technical skills for future engineers.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Physics</li>
        <li>3. Chemistry</li>
        <li>4. Further Mathematics</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Engineering Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>
            Mathematics: Calculus, Linear Algebra, Differential Equations
          </li>
          <li>Physics: Mechanics, Electromagnetism, Thermodynamics</li>
          <li>
            Chemistry: Organic Chemistry, Inorganic Chemistry, Chemical
            Kinetics
          </li>
          <li>
            Further Mathematics: Advanced Calculus, Matrices, Complex
            Numbers
          </li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>
            Textbooks: AS Level Engineering Maths, Physics for Engineers
          </li>
          <li>Projects: Simple Circuit Design, Structural Analysis</li>
          <li>Online Tools: MIT OpenCourseWare, Engineering Simulations</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="v8F5X0gZ0U8">
      <h3>Medicine</h3>
      <p class="course-description">
        Preparation for a career in healthcare and medical sciences.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Physics</li>
        <li>3. Chemistry</li>
        <li>4. Biology</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Medicine Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Mathematics: Statistics, Probability, Data Analysis</li>
          <li>Physics: Human Physiology, Medical Imaging, Radiation</li>
          <li>Chemistry: Biochemistry, Organic Compounds, Pharmacology</li>
          <li>Biology: Human Anatomy, Genetics, Microbiology</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: AS Biology, Chemistry for Medicine</li>
          <li>Case Studies: Disease Pathology, Patient Care Scenarios</li>
          <li>Online Tools: Medscape, PubMed Research Articles</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="s4A3X0gY0U9">
      <h3>Commerce</h3>
      <p class="course-description">
        Develop skills for business and financial careers.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Economics</li>
        <li>3. Further Mathematics</li>
        <li>4. Accounting</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Commerce Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Mathematics: Financial Mathematics, Probability</li>
          <li>
            Economics: Microeconomics, Macroeconomics, Market Structures
          </li>
          <li>Further Mathematics: Statistics, Financial Modeling</li>
          <li>Accounting: Balance Sheets, Income Statements, Auditing</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: AS Economics, Principles of Accounting</li>
          <li>Case Studies: Business Case Analysis</li>
          <li>Online Tools: Investopedia, Financial Times</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="r6B2Z0hW0V7">
      <h3>Arts</h3>
      <p class="course-description">
        Explore humanities and social sciences for creative careers.
      </p>
      <ul>
        <li>1. Global Perspectives</li>
        <li>2. Psychology</li>
        <li>3. Sociology</li>
        <li>4. Economics</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Arts Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Global Perspectives: Current Issues, Global Challenges</li>
          <li>Psychology: Behavioral Studies, Cognitive Processes</li>
          <li>Sociology: Social Structures, Cultural Analysis</li>
          <li>Economics: Economic Theories, Policy Analysis</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: AS Sociology, Psychology Basics</li>
          <li>Projects: Social Research, Essay Writing</li>
          <li>Online Tools: TED Talks, JSTOR Articles</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="course-section">
    <h3 class="level-header">A Level (12th) Pathways</h3>
    <div class="course-card" data-video-id="u7C3Y1iX1W8">
      <h3>Engineering</h3>
      <p class="course-description">
        Advanced technical training for engineering professions.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Physics</li>
        <li>3. Chemistry</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Engineering A Level Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Mathematics: Differential Equations, Vector Calculus</li>
          <li>Physics: Advanced Mechanics, Electrodynamics</li>
          <li>Chemistry: Industrial Chemistry, Materials Science</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: A Level Engineering Physics</li>
          <li>Projects: Engineering Design Challenges</li>
          <li>Online Tools: AutoCAD Tutorials, IEEE Resources</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="w9D4Z2jY2X9">
      <h3>Medicine</h3>
      <p class="course-description">
        In-depth study for medical school preparation.
      </p>
      <ul>
        <li>1. Physics</li>
        <li>2. Chemistry</li>
        <li>3. Biology</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Medicine A Level Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Physics: Medical Imaging, Biophysics</li>
          <li>Chemistry: Pharmacology, Organic Synthesis</li>
          <li>Biology: Advanced Genetics, Immunology</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: A Level Biology, Medical Chemistry</li>
          <li>Case Studies: Clinical Case Reviews</li>
          <li>Online Tools: Mayo Clinic Resources, BMJ Learning</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="x0E5A3kZ3Y0">
      <h3>Commerce</h3>
      <p class="course-description">
        Specialized training for business and finance roles.
      </p>
      <ul>
        <li>1. Mathematics</li>
        <li>2. Economics</li>
        <li>3. Further Mathematics</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Commerce A Level Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Mathematics: Investment Analysis, Risk Management</li>
          <li>Economics: Global Economy, Economic Policy</li>
          <li>Further Mathematics: Econometrics, Time Series</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: A Level Economics, Financial Mathematics</li>
          <li>Case Studies: Market Analysis Reports</li>
          <li>Online Tools: Bloomberg Terminal, Economist Articles</li>
        </ul>
      </div>
    </div>
    <div class="course-card" data-video-id="y1F6B4lA4Z1">
      <h3>Arts</h3>
      <p class="course-description">
        Deep dive into humanities for artistic careers.
      </p>
      <ul>
        <li>1. Psychology</li>
        <li>2. Sociology</li>
        <li>3. Economics</li>
      </ul>
      <div class="button-group">
        <button
          class="play-button"
          data-bs-toggle="modal"
          data-bs-target="#pupilFormModal"
          aria-label="Play Arts A Level Course"
        >
          <i class="fas fa-play"></i>
        </button>
        <button class="content-button">Course Content</button>
      </div>
      <div class="course-content">
        <h4>Syllabus</h4>
        <ul>
          <li>Psychology: Cognitive Behavior, Neuropsychology</li>
          <li>Sociology: Cultural Studies, Social Movements</li>
          <li>Economics: Development Economics, Behavioral Economics</li>
        </ul>
        <h4>Additional Resources</h4>
        <ul>
          <li>Textbooks: A Level Psychology, Sociology</li>
          <li>Projects: Cultural Research Papers</li>
          <li>Online Tools: APA Resources, Sociological Review</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Modal for Pupil Details and Video Preview -->
<div
  class="modal fade"
  id="pupilFormModal"
  tabindex="-1"
  aria-labelledby="pupilFormModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="pupilFormModalLabel">
          Pupil Registration
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="pupilForm">
          <div class="mb-3">
            <label for="pupilName" class="form-label">Full Name</label>
            <input
              type="text"
              class="form-control"
              id="pupilName"
              required
              aria-required="true"
            />
          </div>
          <div class="mb-3">
            <label for="pupilEmail" class="form-label">Email</label>
            <input
              type="email"
              class="form-control"
              id="pupilEmail"
              required
              aria-required="true"
            />
          </div>
          <div class="mb-3">
            <label for="pupilMobile" class="form-label"
              >Mobile Number</label
            >
            <input
              type="tel"
              class="form-control"
              id="pupilMobile"
              required
              aria-required="true"
              placeholder="+44 123 456 7890"
            />
          </div>
          <div class="mb-3">
            <label for="careerGoal" class="form-label">Career Goal</label>
            <textarea
              class="form-control"
              id="careerGoal"
              rows="3"
              required
              aria-required="true"
              placeholder="Describe your career aspirations"
            ></textarea>
          </div>
          <button type="submit" class="btn btn-primary w-100">
            Submit
          </button>
        </form>
        <div class="video-preview" id="videoPreview"></div>
      </div>
    </div>
  </div>
</div>



<!-- Bootstrap JS -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
  crossorigin="anonymous"
></script>
<script>
  // Initialize Particles.js
  particlesJS("particles-js", {
    particles: {
      number: { value: 80, density: { enable: true, value_area: 800 } },
      color: { value: ["#71ab0c", "#71ab0c", "#FFFFFF"] },
      shape: { type: "circle" },
      opacity: { value: 0.5, random: true },
      size: { value: 3, random: true },
      line_linked: {
        enable: true,
        distance: 150,
        color: "#FFFFFF",
        opacity: 0.4,
        width: 1,
      },
      move: {
        enable: true,
        speed: 2,
        direction: "none",
        random: false,
        straight: false,
        out_mode: "out",
        bounce: false,
      },
    },
    interactivity: {
      detect_on: "canvas",
      events: {
        onhover: { enable: true, mode: "repulse" },
        onclick: { enable: true, mode: "push" },
        resize: true,
      },
      modes: {
        repulse: { distance: 100, duration: 0.4 },
        push: { particles_nb: 4 },
      },
    },
    retina_detect: true,
  });

  // Sticky Navbar Effect
  window.addEventListener("scroll", () => {
    const navbar = document.querySelector(".navbar");
    if (window.scrollY > 50) {
      navbar.classList.add("scrolled");
    } else {
      navbar.classList.remove("scrolled");
    }
  });

  // Dark Mode Toggle
  const darkModeToggle = document.createElement("button");
  darkModeToggle.className = "btn btn-primary";
  darkModeToggle.style.position = "fixed";
  darkModeToggle.style.top = "20px";
  darkModeToggle.style.right = "20px";
  darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
  darkModeToggle.setAttribute("aria-label", "Toggle Dark Mode");
  document.body.appendChild(darkModeToggle);

  darkModeToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    const icon = darkModeToggle.querySelector("i");
    icon.classList.toggle("fa-moon");
    icon.classList.toggle("fa-sun");
    localStorage.setItem(
      "darkMode",
      document.body.classList.contains("dark-mode") ? "enabled" : "disabled"
    );
  });

  if (localStorage.getItem("darkMode") === "enabled") {
    document.body.classList.add("dark-mode");
    darkModeToggle
      .querySelector("i")
      .classList.replace("fa-moon", "fa-sun");
  }

  // GSAP Animations with ScrollTrigger
  gsap.registerPlugin(ScrollTrigger);
  gsap.from(".level-header", {
    opacity: 0,
    y: 50,
    duration: 1.5,
    ease: "power3.out",
    delay: 0.5,
  });
  gsap.from(".course-card", {
    opacity: 0,
    y: 50,
    duration: 1,
    stagger: 0.2,
    scrollTrigger: { trigger: ".course-section", start: "top 80%" },
  });

  // Course Content Toggle
  document.querySelectorAll(".content-button").forEach((button) => {
    button.addEventListener("click", () => {
      const content = button.nextElementSibling;
      content.classList.toggle("active");
      if (content.classList.contains("active")) {
        button.textContent = "Hide Content";
      } else {
        button.textContent = "Course Content";
      }
    });
  });

  // Pupil Form Submission with Validation and Video Preview
  document.getElementById("pupilForm").addEventListener("submit", (e) => {
    e.preventDefault();
    const name = document.getElementById("pupilName").value;
    const email = document.getElementById("pupilEmail").value;
    const mobile = document.getElementById("pupilMobile").value;
    const careerGoal = document.getElementById("careerGoal").value;
    const mobileRegex = /^\+?[1-9]\d{1,14}$/;

    if (!mobileRegex.test(mobile)) {
      alert("Please enter a valid mobile number (e.g., +441234567890).");
      return;
    }

    // Get the video ID from the clicked course card
    const button =
      document.querySelector('[data-bs-target="#pupilFormModal"].show') ||
      document.querySelector('.play-button[aria-expanded="true"]');
    const courseCard = button
      ? button.closest(".course-card")
      : document.querySelector(".course-card");
    const videoId = courseCard
      ? courseCard.getAttribute("data-video-id")
      : "dQw4w9WgXcQ"; // Default to a placeholder if no card is found

    // Hide the form and show the video
    document.getElementById("pupilForm").style.display = "none";
    const videoPreview = document.getElementById("videoPreview");
    videoPreview.innerHTML = `
            <iframe width="100%" height="315" src="https://www.youtube.com/embed/${videoId}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        `;
    alert(
      `Thank you, ${name}! Your details (Email: ${email}, Mobile: ${mobile}, Career Goal: ${careerGoal}) have been submitted. Watch the course preview below.`
    );

    // Add a close button for the video
    const closeButton = document.createElement("button");
    closeButton.className = "btn btn-primary w-100 mt-3";
    closeButton.textContent = "Close Video";
    closeButton.addEventListener("click", () => {
      videoPreview.innerHTML = "";
      document.getElementById("pupilForm").style.display = "block";
      const modal = bootstrap.Modal.getInstance(
        document.getElementById("pupilFormModal")
      );
      modal.hide();
    });
    videoPreview.appendChild(closeButton);
  });
</script>

{% endblock %}